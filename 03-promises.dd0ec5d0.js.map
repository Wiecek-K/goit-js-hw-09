{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAOC,SAASC,cAAc,SA0CpC,SAASC,EAAcC,EAAUC,GAChC,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC5BC,YAAW,KACYC,KAAKC,SAAW,GAErCJ,EAAQ,C,SAAEH,E,MAAUC,IAEpBG,EAAO,C,SAAEJ,E,MAAUC,GAAM,GAExBA,EAAA,GAEL,CA7CAL,EAAKY,iBAAiB,UAAWC,IAChCA,EAAMC,iBACN,MAAMC,EAAaf,EAAKE,cAAc,uBAAuBc,MAAQ,EAC/DC,EAAYjB,EAAKE,cAAc,sBAAsBc,MAAQ,EAC7DE,EAASlB,EAAKE,cAAc,wBAAwBc,MAAQ,EAClE,IAAIZ,EAAW,EACXe,EAAWJ,EAQf,GAPAZ,EAAcC,EAAUW,GACtBK,MAAK,EAAChB,SAAEA,EAAQC,MAAEA,KAClBP,EAAAuB,OAAOC,QAAQ,uBAAuBlB,QAAeC,SAErDkB,OAAM,EAACnB,SAAEA,EAAQC,MAAEA,KACnBP,EAAAuB,OAAOG,QAAQ,sBAAsBpB,QAAeC,SAElDa,EAAS,EAAG,CACf,MAAMO,EAAYC,aAAY,KAC7BtB,IACAD,EAAcC,EAAUa,GACtBG,MAAK,EAAChB,SAAEA,EAAQC,MAAEA,MAClBc,GAAYd,EACZP,EAAAuB,OAAOC,QAAQ,uBAAuBlB,QAAee,MAAY,IAEjEI,OAAM,EAACnB,SAAEA,EAAQC,MAAEA,MACnBc,GAAYd,EACZP,EAAAuB,OAAOG,QAAQ,sBAAsBpB,QAAee,MAAY,IAE9Df,IAAac,GAChBS,cAAcF,EAAA,GAEbR,EACJ,CACAjB,EAAK4B,OAAK","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from \"notiflix\";\n\nconst form = document.querySelector(\".form\");\n\n/////////////////////////////////////////////////////\n// form.querySelector('input[name=\"delay\"]').value = 10;\n// form.querySelector('input[name=\"step\"]').value = 20;\n// form.querySelector('input[name=\"amount\"]').value = 5;\n/////////////////////////////////////////////////////\n\nform.addEventListener(\"submit\", (event) => {\n\tevent.preventDefault();\n\tconst firstDelay = form.querySelector('input[name=\"delay\"]').value - 0;\n\tconst stepDelay = form.querySelector('input[name=\"step\"]').value - 0;\n\tconst amount = form.querySelector('input[name=\"amount\"]').value - 0;\n\tlet position = 1;\n\tlet delayCnt = firstDelay;\n\tcreatePromise(position, firstDelay)\n\t\t.then(({ position, delay }) =>\n\t\t\tNotify.success(`✅ Fulfilled promise ${position} in ${delay}ms`),\n\t\t)\n\t\t.catch(({ position, delay }) =>\n\t\t\tNotify.failure(`❌ Rejected promise ${position} in ${delay}ms`),\n\t\t);\n\tif (amount > 1) {\n\t\tconst promiseID = setInterval(() => {\n\t\t\tposition++;\n\t\t\tcreatePromise(position, stepDelay)\n\t\t\t\t.then(({ position, delay }) => {\n\t\t\t\t\tdelayCnt += delay;\n\t\t\t\t\tNotify.success(`✅ Fulfilled promise ${position} in ${delayCnt}ms`);\n\t\t\t\t})\n\t\t\t\t.catch(({ position, delay }) => {\n\t\t\t\t\tdelayCnt += delay;\n\t\t\t\t\tNotify.failure(`❌ Rejected promise ${position} in ${delayCnt}ms`);\n\t\t\t\t});\n\t\t\tif (position === amount) {\n\t\t\t\tclearInterval(promiseID);\n\t\t\t}\n\t\t}, stepDelay);\n\t}\n\tform.reset();\n});\n\nfunction createPromise(position, delay) {\n\treturn new Promise((resolve, reject) => {\n\t\tsetTimeout(() => {\n\t\t\tconst shouldResolve = Math.random() > 0.3;\n\t\t\tif (shouldResolve) {\n\t\t\t\tresolve({ position, delay });\n\t\t\t} else {\n\t\t\t\treject({ position, delay });\n\t\t\t}\n\t\t}, delay);\n\t});\n}\n"],"names":["$7Y9D8","parcelRequire","$47d4ff9957288465$var$form","document","querySelector","$47d4ff9957288465$var$createPromise","position","delay","Promise","resolve","reject","setTimeout","Math","random","addEventListener","event","preventDefault","firstDelay","value","stepDelay","amount","delayCnt","then","Notify","success","catch","failure","promiseID","setInterval","clearInterval","reset"],"version":3,"file":"03-promises.dd0ec5d0.js.map"}