{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAOC,SAASC,cAAc,SA4CpC,SAASC,EAAcC,EAAUC,GAChC,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC5BC,YAAW,KACYC,KAAKC,SAAW,GAErCJ,EAAQ,C,SAAEH,E,MAAUC,IAEpBG,EAAO,C,SAAEJ,E,MAAUC,GAAM,GAExBA,EAAA,GAEL,CApDAL,EAAKE,cAAc,uBAAuBU,MAAQ,GAClDZ,EAAKE,cAAc,sBAAsBU,MAAQ,GACjDZ,EAAKE,cAAc,wBAAwBU,MAAQ,EAGnDZ,EAAKa,iBAAiB,UAAWC,IAChCA,EAAMC,iBAEN,MAAMC,EAAahB,EAAKE,cAAc,uBAAuBU,MAAQ,EAC/DK,EAAYjB,EAAKE,cAAc,sBAAsBU,MAAQ,EAC7DM,EAASlB,EAAKE,cAAc,wBAAwBU,MAAQ,EAClE,IAAIR,EAAW,EACXe,EAAWH,EACfb,EAAcC,EAAUY,GACtBI,MAAK,EAAChB,SAAEA,EAAQC,MAAEA,KAClBP,EAAAuB,OAAOC,QAAQ,uBAAuBlB,QAAeC,SAErDkB,OAAM,EAACnB,SAAEA,EAAQC,MAAEA,KACnBP,EAAAuB,OAAOG,QAAQ,sBAAsBpB,QAAeC,SAGlDa,EAAS,IACZO,UAAYC,aAAY,KACvBtB,IACAD,EAAcC,EAAUa,GACtBG,MAAK,EAAChB,SAAEA,EAAQC,MAAEA,MAClBc,GAAYd,EACZP,EAAAuB,OAAOC,QAAQ,uBAAuBlB,QAAee,MAAY,IAEjEI,OAAM,EAACnB,SAAEA,EAAQC,MAAEA,MACnBc,GAAYd,EACZP,EAAAuB,OAAOG,QAAQ,sBAAsBpB,QAAee,MAAY,IAE9Df,IAAac,GAChBS,cAAcF,UAAA,GAEbR,IAEJjB,EAAK4B,OAAK","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from \"notiflix\";\n\nconst form = document.querySelector(\".form\");\n\n/////////////////////////////////////////////////////\nform.querySelector('input[name=\"delay\"]').value = 10;\nform.querySelector('input[name=\"step\"]').value = 20;\nform.querySelector('input[name=\"amount\"]').value = 5;\n/////////////////////////////////////////////////////\n\nform.addEventListener(\"submit\", (event) => {\n\tevent.preventDefault();\n\n\tconst firstDelay = form.querySelector('input[name=\"delay\"]').value - 0;\n\tconst stepDelay = form.querySelector('input[name=\"step\"]').value - 0;\n\tconst amount = form.querySelector('input[name=\"amount\"]').value - 0;\n\tlet position = 1;\n\tlet delayCnt = firstDelay;\n\tcreatePromise(position, firstDelay)\n\t\t.then(({ position, delay }) =>\n\t\t\tNotify.success(`✅ Fulfilled promise ${position} in ${delay}ms`),\n\t\t)\n\t\t.catch(({ position, delay }) =>\n\t\t\tNotify.failure(`❌ Rejected promise ${position} in ${delay}ms`),\n\t\t);\n\n\tif (amount > 1) {\n\t\tpromiseID = setInterval(() => {\n\t\t\tposition++;\n\t\t\tcreatePromise(position, stepDelay)\n\t\t\t\t.then(({ position, delay }) => {\n\t\t\t\t\tdelayCnt += delay;\n\t\t\t\t\tNotify.success(`✅ Fulfilled promise ${position} in ${delayCnt}ms`);\n\t\t\t\t})\n\t\t\t\t.catch(({ position, delay }) => {\n\t\t\t\t\tdelayCnt += delay;\n\t\t\t\t\tNotify.failure(`❌ Rejected promise ${position} in ${delayCnt}ms`);\n\t\t\t\t});\n\t\t\tif (position === amount) {\n\t\t\t\tclearInterval(promiseID);\n\t\t\t}\n\t\t}, stepDelay);\n\t}\n\tform.reset();\n});\n\nfunction createPromise(position, delay) {\n\treturn new Promise((resolve, reject) => {\n\t\tsetTimeout(() => {\n\t\t\tconst shouldResolve = Math.random() > 0.3;\n\t\t\tif (shouldResolve) {\n\t\t\t\tresolve({ position, delay });\n\t\t\t} else {\n\t\t\t\treject({ position, delay });\n\t\t\t}\n\t\t}, delay);\n\t});\n}\n"],"names":["$7Y9D8","parcelRequire","$47d4ff9957288465$var$form","document","querySelector","$47d4ff9957288465$var$createPromise","position","delay","Promise","resolve","reject","setTimeout","Math","random","value","addEventListener","event","preventDefault","firstDelay","stepDelay","amount","delayCnt","then","Notify","success","catch","failure","promiseID","setInterval","clearInterval","reset"],"version":3,"file":"03-promises.076a84ce.js.map"}